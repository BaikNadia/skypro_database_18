# DataBase. Основы работы с базами данных

## Задача (main.py)
1. Создать базу данных courses из консоли используя утилиту psql
2. Создать три таблицы в базе данных courses
 - Таблица students должна содержать следующие столбцы - id(целое число), 
first_name(строка до 100 символов), email(строка до 255 символов)
 - Таблица instructors должна содержать следующие столбцы - id(целое число), 
first_name(строка до 100 символов), last_name(строка до 100 символов), 
email(строка до 255 символов), scope(строка до 50 символов)
 - Таблица courses должна содержать следующие столбцы - id(строка 4 символа), 
name(название курса), instructor_id(ссылка на поле), student_id(ссылка на поле),
start_date(дата)
3. Написать скрипт на Python, который заполнит созданные таблицы данными 
из csv-файлов.
=======
# Введение в SQL
Categories — таблица содержит информацию о категориях продуктов, которые продаются в компании.
Customers — таблица содержит информацию о клиентах, которые делают заказы в компании.
Employees — таблица содержит информацию о сотрудниках компании.
Orders — таблица содержит информацию о заказах, которые делают клиенты.
Order Details — таблица содержит информацию о продуктах, которые были заказаны клиентами в рамках конкретного заказа.
Products — таблица содержит информацию о продуктах, которые продаются в компании.
Shippers — таблица содержит информацию о компаниях-перевозчиках, которые доставляют заказы клиентам.
Suppliers — таблица содержит информацию о компаниях-поставщиках, которые поставляют продукты компании.

 ## Простые выборки
 SELECT — оператор, который используется для получения данных из таблиц в SQL.
SELECT product_name, unit_price и units_in_stock
FROM products;
Результатом запроса будут только значения этих столбцов для каждой строки таблицы.

DISTINCT — оператор, который используется для выбора уникальных значений из столбца таблицы.
SELECT DISTINCT city, country FROM employees;
Результатом запроса будут только уникальные комбинации значений столбцов city и country.

COUNT — оператор, который используется для подсчета количества строк в таблице или группе строк, удовлетворяющих заданным 
условиям.
Например, следующий запрос вернет количество сотрудников в таблице employees:
SELECT COUNT(*) FROM employees;
Результатом запроса будет одно число — количество строк в таблице employees.
Следующий запрос вернет количество стран, в которых находятся сотрудники:
SELECT COUNT(DISTINCT country) FROM employees;

## Фильтрация
WHERE — оператор, который используется для фильтрации строк по определенным условиям.
Например, следующий запрос вернет все заказы из таблицы orders, где поле ship_country равно France, т. е. которые отправляются во Францию:
SELECT * FROM orders WHERE ship_country = 'France';
Следующий запрос выведет сотрудников, которые не проживают в USA:
SELECT * FROM employees
WHERE country <> 'USA'
Следующий запрос выведет заказы, сделанные c 1998 года:
SELECT * FROM orders
WHERE order_date > '1998-01-01'

BETWEEN — оператор, который используется для выбора строк, где значение столбца находится между двумя заданными значениями.
Например, следующий запрос вернет все строки из таблицы products, где цена товара находится в интервале от 30 до 50:
SELECT * FROM products
WHERE unit_price BETWEEN 30 AND 50;

IN и NOT IN — операторы, которые используются для выбора строк, где значение столбца равно одному из нескольких заданных значений.
Например, следующий запрос вернет все строки из таблицы orders, где поле ship_country равно France или Germany:
SELECT * FROM orders
WHERE ship_country IN ('France', 'Germany');
Чтобы вернуть все строки из таблицы orders, где поле ship_country НЕ равно France или Germany:
SELECT * FROM orders
WHERE ship_country NOT IN ('France', 'Germany');

## Сортировка
ORDER BY — оператор, который используется для сортировки выбранных строк по заданным столбцам.
Например, следующий запрос вернет все строки из таблицы orders, отсортированные по наименованию страны:
SELECT * FROM orders
ORDER BY ship_country;
По умолчанию сортировка идет в порядке возрастания. Чтобы сделать сортировку в порядке убывания, надо использовать 
DESC:
SELECT * FROM orders
ORDER BY ship_country DESC;

MAX, AVG и SUM — операторы, которые используются для вычисления максимального, среднего и суммарного значения столбца соответственно.
Например, следующий запрос вернет максимальную дату из таблицы orders (т. е. дата последнего заказа):
SELECT MAX(order_date) FROM orders;
Следующий запрос выведет среднюю цену товара в колонке products:
SELECT AVG(unit_price) FROM products;

## Фильтрация по шаблону
LIKE — оператор, который используется для выбора строк, где значение столбца соответствует заданному шаблону.
Например, следующий запрос вернет все строки из таблицы customers, где поле country начинается с буквы А:
SELECT * FROM customers WHERE country LIKE 'А%';
Символ _ означает один знак.
Варианты шаблонов:
'A%' — начинается на A
'%A' — заканчивается на A
'A%a' — начинается на A и заканчивается на a
'_a%' — следующая буква после первой a и далее любое количество букв

LIMIT — оператор, который используется для выбора заданного количества строк из результата запроса.
Например, следующий запрос вернет первые 10 строк из таблицы orders:
SELECT * FROM orders LIMIT 10;

## Группировка
GROUP BY — оператор, который используется для группировки данных по определенным полям. Он позволяет сгруппировать данные в таблице на основе 
значений в одном или нескольких столбцах и применить функции агрегирования для каждой группы.
Например, следующий запрос вернет из таблицы orders страны (колонка ship_country) и количество заказов в каждой стране. Результаты будут отсортированы 
в порядке убывания количества заказов:

SELECT ship_country, COUNT(*)
FROM orders
GROUP BY ship_country
ORDER BY COUNT(*) DESC;
В данном запросе происходит группировка заказов по странам, а затем вычисляется количество таких заказов и результаты сортируются.

HAVING — оператор, который используется для фильтрации групп, созданных оператором GROUP BY. Он позволяет применить условие к результатам группировки, 
чтобы оставить только нужные группы.
В данном запросе происходит группировка заказов по странам, а затем вычисляется количество заказов в каждой стране. Однако результаты будут показаны 
только для тех стран, в которых количество заказов больше 30:

SELECT ship_country, COUNT(*)
FROM orders
GROUP BY ship_country
HAVING COUNT(*) > 30
ORDER BY COUNT(*) DESC;

## Работа с множествами
UNION — оператор, который используется для объединения результатов двух или более запросов в один результат. Результаты должны иметь одинаковое число 
столбцов, и соответствующие столбцы должны иметь совместимые типы данных.
В данном запросе происходит объединение результатов двух запросов: первый запрос выбирает данные из таблицы customers, а второй запрос — данные из таблицы 
suppliers. Оба запроса выбирают данные из столбца country. UNION объединяет результаты этих двух запросов и выдает единый результат, который содержит 
уникальные строки из обеих таблиц.

SELECT country FROM customers
UNION
SELECT country FROM suppliers

INTERSECT — оператор, который используется для получения пересечения результатов двух или более запросов. Он возвращает только те строки, которые 
присутствуют в обоих запросах. Результаты должны иметь одинаковое число столбцов, и соответствующие столбцы должны иметь совместимые типы данных.
Следующий запрос вернет только те страны, которые есть и в первом, и во втором запросе:

SELECT country FROM customers
INTERSECT
SELECT country FROM suppliers

EXCEPT — оператор, который используется для получения разницы между результатами двух запросов. Он возвращает только те строки, которые присутствуют в первом 
запросе, но отсутствуют во втором. Результаты должны иметь одинаковое число столбцов, и соответствующие столбцы должны иметь совместимые типы данных.
Следующий запрос вернет только те страны, которые есть в первом запросе и которых нет во втором запросе:

SELECT country FROM customers
EXCEPT
SELECT country FROM suppliers
>>>>>>> main
